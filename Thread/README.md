# Thread
## 1.프로세스와 쓰레드
- 프로세스란 간단히 말해서 '실행 중인 프로그램' 이다. 프로그램을 실행하면 OS로부터 실행에 필요한 자원(메모리)을 할당받아 프로세스가 된다.
- 프로세스:데이터+메모리+쓰레드
- 프로세스의 자원을 이용해서 실제로 작업을 수행하는 것이 쓰레드이다.
- 모든 프로세스에는 최소한 하나 이상의 쓰레드가 존재하며, 둘 이상의 쓰레드를 가진 프로세스를 '멀티쓰레드 프로세스'라고 한다.
```java
멀티쓰레딩의 장점
- CPU의 사용률을 향상시킨다.
- 자원을 보다 효율적으로 사용할 수 있다.
- 사용자에 대한 응답성이 향상된다.
- 작업이 분리되어 코드가 간결해진다.
```

```java
멀티쓰레딩의 단점
- 동기화
- 교착상태
```

## 2.쓰레드의 구현과 실행
- Thread클래스를 상속받는 방법
- Runnable인터페이스를 구현하는 방법(일반적)
```java
1. Thread클래스를 상속
class MyThread extends Thread{
    public void run(){...};
}

2. Runnable인터페이스를 구현
class MyThread implements Runnable{
    public void run(){...};
}
```
- 쓰레드의 실행 start()
```java
t1.start();//쓰레드 t1을 실행시킨다.
t2.start();//쓰레드 t2를 실행시킨다.
```
- 한 번 실행이 종료된 쓰레드는 다시 실행할 수 없다.
- 하나의 쓰레드에 대해 start()가 한 번만 호출될 수 있다.

## 3.start()와 run()
- main메서드에서 run()을 호출하는 것은 생성된 쓰레드를 실행시키는 것이 아니라 단순히 메서드를 호출하는 것이다.
- start()는 새로운 쓰레드가 작업을 실행하는데 필요한 호출스택을 생성한 다음에 run()을 호출해서, 생성된 호출스택에 run()이 첫번째로 올라가게 한다.
- 스케쥴러는 실행대기중인 쓰레드들의 우선순위를 고려하여 실행순서와 실행시간을 결정한다.
- ### main쓰레드
  - main메서드의 작업을 수행하는것도 쓰레드이며, main쓰레드 라고 한다.
  - 실행 중인 사용자 쓰레드가 하나도 없을 때 프로그램은 종료된다.
  - 쓰레드는 사용자 쓰레드, 데몬 쓰레드 두 종류가 있다.

## 4.싱글쓰레드와 멀티쓰레드
- 하나의 쓰레드로 두 작업을 처리하는 경우는 한 작업을 마친 후에 다른 작업을 시작하지만, 
- 두 개의 쓰레드로 작업 하는 경유에는 짧은 시간동안 2개의 쓰레드가 번갈아 가면서 작업을 수행해서 동시에 두 작업이 처리되는 것과 같이 느끼게 한다.

## 5.쓰레드의 우선순위
- 쓰레드는 우선순위라는 속성(멤버변수)를 갖고있다. 이 우선순위의 값에 따라 쓰레드가 얻는 실행시간이 달라진다.
- 쓰레드의 우선순위 지정하기(기본우선 순위=5)
```java
void setPriority(int newPriority)
int getPriority()
```
- 쓰레드의 우선순위는 쓰레드를 생성한 쓰레드로부터 상속받는다.
- OS의 스케쥴러에 종속적이라서 어느 정도 예츠만 가능한 정도이다.

## 6.쓰레드 그룹
- 쓰레드 그룹은 서로 관련된 쓰레드를 그룹으로 다루기 위한 것이다.
- 쓰레드를 쓰레드 그룹에 포함시키려면 Thread의 생성자를 이용해야 한다.
```java
Thread(ThreadGroup group, String name)
Thread(ThreadGroup group, Runnable target)
Thread(ThreadGroup group, Runnable target, String name)
Thread(ThreadGroup group, Runnable target, String name, long stackSize)
```
- 모든 쓰레드는 반드시 쓰레드 그룹에 포함되어 있어야 한다.
- 쓰레드 그룹을 지정하지 않은 쓰레드는 기본적으로 자신을 생성한 쓰레드와 같은 쓰레드 그룹에 속하게 된다.
```java
ThreadGroup getThreadGroup() // 쓰레드 자신이 속한 쓰레드 그룹을 반환한다.
void uncaughtException(Thread t, Throwable e) //쓰레드 그룹의 쓰레드가 처리되지 않은 예외에 의해 실행이 종료되었을때, JVM에 의해서 이메서드가 자동적으로 호출된다.

